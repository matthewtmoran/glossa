<md-dialog id="attach-file-dialog" flex="50" aria-label="Attach files">
	<form ng-cloak>
		<!--<md-toolbar>-->
		<!--<div class="md-toolbar-tools">-->
		<!--<h2>Upload New</h2>-->
		<!--<span flex></span>-->
		<!--</div>-->
		<!--<md-button class="md-icon-button" ng-click="atVm.cancel()">-->
		<!--<md-icon aria-label="Close dialog">close</md-icon>-->
		<!--</md-button>-->
		<!--</md-toolbar>-->
		<md-dialog-content class="md-whiteframe-2dp">
			<div class="md-dialog-content" style="padding:0px;">
				<div class="new-files" style="padding-left:24px; padding-right:24px; padding-bottom:24px;">
					<h4 style="color:#9e9e9e;">Add New Media</h4>
					<div layout="row" layout-align="space-between center">
						<dynamic-upload ng-repeat="item in atVm.items" item="item"></dynamic-upload>
					</div>
					<!-- <div class="md-padding" layout="row" layout-align="space-between center">
						<h3 ng-show="atVm.currentFile.audio">
							{{atVm.currentFile.audio}}
						</h3>
						<img  ng-show="atVm.currentFile.image" ng-src="{{'../' + atVm.currentFile.image}}" alt="">
					</div> -->
					<!--TODO: figure out how not to have to do this: '../'-->
				</div>
				<md-divider></md-divider>
				<div class="notebook">
					<h4 style="color:#9e9e9e; padding-left:24px; padding-right:24px;">Attach Notebook Entry Media</h4>
					<md-input-container md-no-float class="md-block">
						<md-icon class="material-icons">search</md-icon>
						<form ng-submit="atVm.searchSubmit()">
							<input ng-model="atVm.searchText" placeholder="Search Notebook...">
						</form>
					</md-input-container>
					<md-content class="search-result-wrapper" style="width:100%; border-top: 1px solid rgba(0,0,0,0.12);">
						<md-list>
							<md-list-item ng-show="atVm.searchText" ng-repeat="notebook in atVm.notebooks | filter: atVm.searchText || ''" class="md-2-line " ng-click="atVm.notebookSelection(notebook)">
								<a>
									<md-item-content md-ink-ripple layout="row" layout-align="start center">
										<img class="md-avatar" style="background-color:#9e9e9e;" alt="" />
										<div class="md-list-item-text" layout="column">
											<h3>{{notebook.name}}</h3>
											<p>Preview of first few lines of a baseline</p>
										</div>
									</md-item-content>
								</a>
								<md-divider></md-divider>
							</md-list-item>
						</md-list>
					</md-content>
				</div>
			</div>
			
		</md-dialog-content>
		<md-dialog-actions layout="row" layout-align="space-between" class="md-whiteframe-2dp" style="width:100%; border-top: 1px solid rgba(0,0,0,0.12);">
			<md-button ng-click="atVm.cancel('cancel')">
				Cancel
			</md-button>
			<md-button ng-click="atVm.save('useful')" class="md-primary">
				Okay
			</md-button>
		</md-dialog-actions>
	</form>
</md-dialog>