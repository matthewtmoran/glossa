<md-content class="root" layout="column" flex>

	<app-nav ng-if="!('settings' | includedByState)"
	         search-text="$ctrl.searchText"
	         on-create-transcription="$ctrl.createTranscription($event)"
	         on-search-submit="$ctrl.searchSubmit($event)"
	         on-clear-search="$ctrl.clearSearch($event)">
	</app-nav>

	<app-drawer project="$ctrl.project"></app-drawer>

	<div class="app" layout="column" flex>
		<div ui-view
		     class="fade-transition"
		     flex
		     layout="column"

		     current-user="$ctrl.currentUser"
		     selected-file="$ctrl.selectedFile"
		     notebook-attachment="$ctrl.notebookAttachment"
		     all-connections="$ctrl.allConnections"
		     search-text="$ctrl.searchText"
		     online-connections="$ctrl.onlineConnections"
		     project="$ctrl.project"
		     settings="$ctrl.settings"
		     notebooks="$ctrl.notebooks"
		     hashtags="$ctrl.hashtags"
		     common-tag="$ctrl.commonTags"
		     transcriptions="$ctrl.transcriptions"
		     new-notebooks="$ctrl.newNotebooks"

		     on-upload-avatar="$ctrl.updloadAvatar($event)"
		     on-export-project="$ctrl.exportProject($event)"
		     on-save-media-settings="$ctrl.saveMediaSettings($event)"
		     on-update-project="$ctrl.updateProject($event)"
		     on-remove-avatar="$ctrl.removeAvatar($event)"
		     on-update-user-info="$ctrl.updateUserInfo($event)"
		     on-confirm-toggle-sharing="$ctrl.confirmToggleSharing($event)"
			 on-toggle-follow="$ctrl.toggleFollow($event)"

		     on-save-notebook="$ctrl.saveNotebook($event)"
			 on-update-notebook="$ctrl.updateNotebook($event)"
			 on-delete-notebook="$ctrl.deleteNotebook($event)"

			 on-select-file="$ctrl.selectFile($event)"
			 on-update-transcription="$ctrl.updateTranscription($event)"
			 on-create-transcription="$ctrl.createTranscription($event)"
			 on-remove-transcription="$ctrl.removeTranscription($event)"
			 on-disconnect-notebook="$ctrl.disconnectNotebook($event)"
			 on-attach-notebook="$ctrl.attachNotebook($event)"
			 on-disconnect-media="$ctrl.disconnectMedia($event)"

			 on-view-notebook-details="$ctrl.viewNotebookDetails($event)"
			 on-tag-manage-dialog="$ctrl.tagManaageDialog($event)"
			 on-show-new-notebook-updates="$ctrl.showNewNotebookUpdates($event)"

		     on-update-tag="$ctrl.updateTag($event)"
		     on-remove-tag="$ctrl.removeTag($event)"

			 on-cancel="$ctrl.cancel($event)"
			 on-hide="$ctrl.hide($event)">
		</div>
	</div>
</md-content>

<div ng-if="$ctrl.isLoading" id="full-screen-loader-overlay"></div>
<!--<div ng-if="$ctrl.isLoading" class="loading-spinner">Loading...</div>-->
<!--<md-progress-circular  class="full-screen-loader-spinner md-warn md-hue-3" md-diameter="70">></md-progress-circular>-->
